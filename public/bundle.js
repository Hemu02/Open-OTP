(function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=0)})([function(e,t,a){function n(){generator=new s(secret),document.getElementById('secret').value=secret,r(generator)}function r(e,t='test'){secretb32=e.getBase32Secret();let a=`otpauth://totp/${t}?secret=${secretb32}`;o.set({value:a})}function n(e){let t=document.getElementById('secret');e||(e=t.value),e=e+'';try{generator=new s(e),secret=e,r(generator)}catch(e){console.error(e.message)}t.value=secret}const s=a(1),i=a(4);navigator.serviceWorker&&navigator.serviceWorker.register('sw.js').catch(console.error);const o=new i({element:document.getElementById('qr'),size:250,level:'H'});document.addEventListener('DOMContentLoaded',function(){var e=s.getRandomInt(0,1000000000000);n(e);let t=document.getElementById('number'),a=document.getElementById('time');setInterval(()=>{let e=new Date;a.textContent=e.toLocaleString(),t.textContent=generator.getTOTP()},1e3)})},function(e,t,a){var n=Math.floor;const r=a(2),s=a(3);e.exports=class{constructor(e,t='utf8'){'base32'===t&&(e=r.decode(e)),this.secret=e+''}getTOTP(){const e=n(new Date().getTime()/1e3),t=n(e/30);return this.getHOTP(t+'')}getHOTP(e){const t=this.encodeCounter(e),a=this.getHmacDigest(this.secret,t),n=this.getBinaryCode(a),r=this.convertToHotp(n,6);return r}getHmacDigest(e,t){const a=new s('SHA-1','ARRAYBUFFER');a.setHMACKey(e,'TEXT'),a.update(t);const n=new Uint8Array(a.getHMAC('ARRAYBUFFER'));return n}getBinaryCode(e){const t=15&e[e.length-1],a=(127&e[t])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3];return a}convertToHotp(e,t=6){const a=e%Math.pow(10,t);return(a+'').padStart(t,'0')}static getRandomInt(e,t){return n(Math.random()*(t-e)+e)}getBase32Secret(){const e=this.toUint8Array(this.secret);return r.encode(e).toString().replace(/=/g,'')}toUint8Array(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}encodeCounter(e){const t=new Uint8Array(8);let a=e;for(let n=0;8>n;n++)t[7-n]=255&a,a>>=8;return t}}},function(e,t){'use strict';function a(e){if(this.buf=[],this.shift=8,this.carry=0,e){switch(e.type){case'rfc4648':this.charmap=t.rfc4648.charmap;break;case'crockford':this.charmap=t.crockford.charmap;break;case'base32hex':this.charmap=t.base32hex.charmap;break;default:throw new Error('invalid type');}e.charmap&&(this.charmap=e.charmap)}}function n(e){if(this.buf='',this.shift=3,this.carry=0,e){switch(e.type){case'rfc4648':this.alphabet=t.rfc4648.alphabet;break;case'crockford':this.alphabet=t.crockford.alphabet;break;case'base32hex':this.alphabet=t.base32hex.alphabet;break;default:throw new Error('invalid type');}e.alphabet?this.alphabet=e.alphabet:e.lc&&(this.alphabet=this.alphabet.toLowerCase())}}var r=function(e,t){return t||(t={}),e.split('').forEach(function(e,a){e in t||(t[e]=a)}),t},s={alphabet:'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',charmap:{0:14,1:8}};s.charmap=r(s.alphabet,s.charmap);var i={alphabet:'0123456789ABCDEFGHJKMNPQRSTVWXYZ',charmap:{O:0,I:1,L:1}};i.charmap=r(i.alphabet,i.charmap);var o={alphabet:'0123456789ABCDEFGHIJKLMNOPQRSTUV',charmap:{}};o.charmap=r(o.alphabet,o.charmap),a.prototype.charmap=s.charmap,a.prototype.write=function(e){var t=this.charmap,a=this.buf,n=this.shift,r=this.carry;return e.toUpperCase().split('').forEach(function(e){if('='!=e){var s=255&t[e];n-=5,0<n?r|=s<<n:0>n?(a.push(r|s>>-n),n+=8,r=255&s<<n):(a.push(r|s),n=8,r=0)}}),this.shift=n,this.carry=r,this},a.prototype.finalize=function(e){return e&&this.write(e),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},n.prototype.alphabet=s.alphabet,n.prototype.write=function(e){var t,a,n,r=this.shift,s=this.carry;for(n=0;n<e.length;n++)a=e[n],t=s|a>>r,this.buf+=this.alphabet[31&t],5<r&&(r-=5,t=a>>r,this.buf+=this.alphabet[31&t]),r=5-r,s=a<<r,r=8-r;return this.shift=r,this.carry=s,this},n.prototype.finalize=function(e){return e&&this.write(e),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},t.encode=function(e,t){return new n(t).finalize(e)},t.decode=function(e,t){return new a(t).finalize(e)},t.Decoder=a,t.Encoder=n,t.charmap=r,t.crockford=i,t.rfc4648=s,t.base32hex=o},function(e,t,a){'use strict';var s;(function(i){function o(s,i,o){var B,M,m,R,C,L,e,T,t,v=0,h=[],a=0,F=!1,g=[],x=[],n=!1;if(o=o||{},B=o.encoding||'UTF8',t=o.numRounds||1,t!==parseInt(t,10)||1>t)throw Error('numRounds must a integer >= 1');if('SHA-1'===s)C=512,L=y,e=E,R=160,T=function(e){return e.slice()};else throw Error('Chosen SHA variant is not supported');m=_(i,B),M=A(s),this.setHMACKey=function(t,a,r){var i;if(!0==F)throw Error('HMAC key already set');if(!0==n)throw Error('Cannot set HMAC key after calling update');if(B=(r||{}).encoding||'UTF8',a=_(a,B)(t),t=a.binLen,a=a.value,i=C>>>3,r=i/4-1,i<t/8){for(a=e(a,t,0,A(s),R);a.length<=r;)a.push(0);a[r]&=4294967040}else if(i>t/8){for(;a.length<=r;)a.push(0);a[r]&=4294967040}for(t=0;t<=r;t+=1)g[t]=909522486^a[t],x[t]=1549556828^a[t];M=L(g,M),v=C,F=!0},this.update=function(t){var r,e,s,i=0,o=C>>>5;for(r=m(t,h,a),t=r.binLen,e=r.value,r=t>>>5,s=0;s<r;s+=o)i+C<=t&&(M=L(e.slice(s,s+o),M),i+=C);v+=i,h=e.slice(i>>>5),a=t%C,n=!0},this.getHash=function(n,i){var o,_,u,f;if(!0==F)throw Error('Cannot call getHash after setting HMAC key');switch(u=p(i),n){case'HEX':o=function(e){return r(e,R,u)};break;case'B64':o=function(e){return c(e,R,u)};break;case'BYTES':o=function(e){return l(e,R)};break;case'ARRAYBUFFER':try{_=new ArrayBuffer(0)}catch(e){throw Error('ARRAYBUFFER not supported by this environment')}o=function(e){return d(e,R)};break;default:throw Error('format must be HEX, B64, BYTES, or ARRAYBUFFER');}for(f=e(h.slice(),a,v,T(M),R),_=1;_<t;_+=1)f=e(f,R,0,A(s),R);return o(f)},this.getHMAC=function(t,i){var o,_,u,n;if(!1==F)throw Error('Cannot call getHMAC without first setting HMAC key');switch(u=p(i),t){case'HEX':o=function(e){return r(e,R,u)};break;case'B64':o=function(e){return c(e,R,u)};break;case'BYTES':o=function(e){return l(e,R)};break;case'ARRAYBUFFER':try{o=new ArrayBuffer(0)}catch(e){throw Error('ARRAYBUFFER not supported by this environment')}o=function(e){return d(e,R)};break;default:throw Error('outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER');}return _=e(h.slice(),a,v,T(M),R),n=L(x,A(s)),n=e(_,R,C,n,R),o(n)}}function r(e,t,n){var r='';t/=8;var s,a;for(s=0;s<t;s+=1)a=e[s>>>2]>>>8*(3+-1*(s%4)),r+='0123456789abcdef'.charAt(15&a>>>4)+'0123456789abcdef'.charAt(15&a);return n.outputUpper?r.toUpperCase():r}function c(e,t,n){var r,s,i,o='',l=t/8;for(r=0;r<l;r+=3)for(s=r+1<l?e[r+1>>>2]:0,i=r+2<l?e[r+2>>>2]:0,i=(255&e[r>>>2]>>>8*(3+-1*(r%4)))<<16|(255&s>>>8*(3+-1*((r+1)%4)))<<8|255&i>>>8*(3+-1*((r+2)%4)),s=0;4>s;s+=1)o+=8*r+6*s<=t?'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charAt(63&i>>>6*(3-s)):n.b64Pad;return o}function l(e,t){var n,a,r='';for(n=0;n<t/8;n+=1)a=255&e[n>>>2]>>>8*(3+-1*(n%4)),r+=String.fromCharCode(a);return r}function d(e,t){var n,r,s=t/8,i=new ArrayBuffer(s);for(r=new Uint8Array(i),n=0;n<s;n+=1)r[n]=255&e[n>>>2]>>>8*(3+-1*(n%4));return i}function p(e){var t={outputUpper:!1,b64Pad:'=',shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty('b64Pad')&&(t.b64Pad=e.b64Pad),'boolean'!=typeof t.outputUpper)throw Error('Invalid outputUpper formatting option');if('string'!=typeof t.b64Pad)throw Error('Invalid b64Pad formatting option');return t}function _(e,r){var t;switch(r){case'UTF8':case'UTF16BE':case'UTF16LE':break;default:throw Error('encoding must be UTF8, UTF16BE, or UTF16LE');}switch(e){case'HEX':t=function(t,n,r){var s,i,o,e,l,c=t.length;if(0!=c%2)throw Error('String of HEX type must be in byte increments');for(n=n||[0],r=r||0,l=r>>>3,s=0;s<c;s+=2){if(i=parseInt(t.substr(s,2),16),isNaN(i))throw Error('String of HEX type contains invalid characters');for(e=(s>>>1)+l,o=e>>>2;n.length<=o;)n.push(0);n[o]|=i<<8*(3+-1*(e%4))}return{value:n,binLen:4*c+r}};break;case'TEXT':t=function(s,i,o){var c,_,d,e,l,p,h,t,n=0;if(i=i||[0],o=o||0,l=o>>>3,'UTF8'===r)for(t=3,d=0;d<s.length;d+=1)for(c=s.charCodeAt(d),_=[],128>c?_.push(c):2048>c?(_.push(192|c>>>6),_.push(128|63&c)):55296>c||57344<=c?_.push(224|c>>>12,128|63&c>>>6,128|63&c):(d+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(d)),_.push(240|c>>>18,128|63&c>>>12,128|63&c>>>6,128|63&c)),e=0;e<_.length;e+=1){for(h=n+l,p=h>>>2;i.length<=p;)i.push(0);i[p]|=_[e]<<8*(t+-1*(h%4)),n+=1}else if('UTF16BE'===r||'UTF16LE'===r)for(t=2,_='UTF16LE'==r&&!0||'UTF16LE'!=r&&!1,d=0;d<s.length;d+=1){for(c=s.charCodeAt(d),!0===_&&(e=255&c,c=e<<8|c>>>8),h=n+l,p=h>>>2;i.length<=p;)i.push(0);i[p]|=c<<8*(t+-1*(h%4)),n+=2}return{value:i,binLen:8*n+o}};break;case'B64':t=function(t,r,s){var i,o,d,e,l,p,_,n=0;if(-1===t.search(/^[a-zA-Z0-9=+\/]+$/))throw Error('Invalid character in base-64 string');if(o=t.indexOf('='),t=t.replace(/\=/g,''),-1!==o&&o<t.length)throw Error('Invalid \'=\' found in base-64 string');for(r=r||[0],s=s||0,p=s>>>3,o=0;o<t.length;o+=4){for(l=t.substr(o,4),d=e=0;d<l.length;d+=1)i='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.indexOf(l[d]),e|=i<<18-6*d;for(d=0;d<l.length-1;d+=1){for(_=n+p,i=_>>>2;r.length<=i;)r.push(0);r[i]|=(255&e>>>16-8*d)<<8*(3+-1*(_%4)),n+=1}}return{value:r,binLen:8*n+s}};break;case'BYTES':t=function(t,n,r){var s,i,o,c,e;for(n=n||[0],r=r||0,o=r>>>3,i=0;i<t.length;i+=1)s=t.charCodeAt(i),e=i+o,c=e>>>2,n.length<=c&&n.push(0),n[c]|=s<<8*(3+-1*(e%4));return{value:n,binLen:8*t.length+r}};break;case'ARRAYBUFFER':try{t=new ArrayBuffer(0)}catch(e){throw Error('ARRAYBUFFER not supported by this environment')}t=function(t,n,r){var s,i,o,c,e;for(n=n||[0],r=r||0,i=r>>>3,e=new Uint8Array(t),s=0;s<t.byteLength;s+=1)c=s+i,o=c>>>2,n.length<=o&&n.push(0),n[o]|=e[s]<<8*(3+-1*(c%4));return{value:n,binLen:8*t.byteLength+r}};break;default:throw Error('format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER');}return t}function B(e,t){return e<<t|e>>>32-t}function n(e,t){var a=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(a>>>16))<<16|65535&a}function u(e,t,n,r,s){var a=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&s);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(s>>>16)+(a>>>16))<<16|65535&a}function A(e){var t=[];if('SHA-1'===e)t=[1732584193,4023233417,2562383102,271733878,3285377520];else throw Error('No SHA variants supported');return t}function y(t,r){var s,i,o,l,d,p,_,e=[];for(s=r[0],i=r[1],o=r[2],l=r[3],d=r[4],_=0;80>_;_+=1)e[_]=16>_?t[_]:B(e[_-3]^e[_-8]^e[_-14]^e[_-16],1),p=20>_?u(B(s,5),i&o^~i&l,d,1518500249,e[_]):40>_?u(B(s,5),i^o^l,d,1859775393,e[_]):60>_?u(B(s,5),i&o^i&l^o&l,d,2400959708,e[_]):u(B(s,5),i^o^l,d,3395469782,e[_]),d=l,l=o,o=B(i,30),i=s,s=p;return r[0]=n(s,r[0]),r[1]=n(i,r[1]),r[2]=n(o,r[2]),r[3]=n(l,r[3]),r[4]=n(d,r[4]),r}function E(e,t,n,r){var s;for(s=(t+65>>>9<<4)+15;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[s]=4294967295&t,e[s-1]=0|t/4294967296,t=e.length,s=0;s<t;s+=16)r=y(e.slice(s,s+16),r);return r}s=function(){return o}.call(t,a,t,e),!(s!==void 0&&(e.exports=s))})(this)},function(e){var t=Math.floor;(function(t,a){e.exports=a()})(this,function(){'use strict';function e(e,t){var n;return'function'==typeof Object.create?n=Object.create(e):(s.prototype=e,n=new s,s.prototype=null),t&&a(!0,n,t),n}function a(e,t,a){a=l.call(arguments,2);for(var n,r,s=0,i=a.length;s<i;s++)for(n in r=a[s],r)(!e||o.call(r,n))&&(t[n]=r[n])}function n(){}var r=Math.max,s=function(){},o=Object.prototype.hasOwnProperty,l=Array.prototype.slice;n.class_='Nevis',n.super_=Object,n.extend=function(t,n,r,s){var i=this;return'string'!=typeof t&&(s=r,r=n,n=t,t=null),'function'!=typeof n&&(s=r,r=n,n=function(){return i.apply(this,arguments)}),a(!1,n,i,s),n.prototype=e(i.prototype,r),n.prototype.constructor=n,n.class_=t||i.class_,n.super_=i,n};var i=n,c=i.extend(function(e,t,a){this.qrious=e,this.element=t,this.element.qrious=e,this.enabled=!!a},{draw:function(){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(e){var a=this.qrious,n=a.padding||0,s=t((a.size-2*n)/e.width);return r(1,s)},getOffset:function(e){var a=this.qrious,n=a.padding;if(null!=n)return n;var s=this.getModuleSize(e),i=t((a.size-s*e.width)/2);return r(0,i)},render:function(e){this.enabled&&(this.resize(),this.reset(),this.draw(e))},reset:function(){},resize:function(){}}),d=c,p=d.extend({draw:function(e){var t,a,n=this.qrious,r=this.getModuleSize(e),s=this.getOffset(e),i=this.element.getContext('2d');for(i.fillStyle=n.foreground,i.globalAlpha=n.foregroundAlpha,t=0;t<e.width;t++)for(a=0;a<e.width;a++)e.buffer[a*e.width+t]&&i.fillRect(r*t+s,r*a+s,r,r)},reset:function(){var e=this.qrious,t=this.element.getContext('2d'),a=e.size;t.lineWidth=1,t.clearRect(0,0,a,a),t.fillStyle=e.background,t.globalAlpha=e.backgroundAlpha,t.fillRect(0,0,a,a)},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),_=i.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),h=i.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),u=h,f=i.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),m=f,g=i.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),k=i.extend(function(e){var t,a,n,r,s,i=e.value.length;for(this._badness=[],this._level=u.LEVELS[e.level],this._polynomial=[],this._value=e.value,this._version=0,this._stringBuffer=[];40>this._version&&(this._version++,n=4*(this._level-1)+16*(this._version-1),r=u.BLOCKS[n++],s=u.BLOCKS[n++],t=u.BLOCKS[n++],a=u.BLOCKS[n],n=t*(r+s)+s-3+(9>=this._version),!(i<=n)););this._dataBlock=t,this._eccBlock=a,this._neccBlock1=r,this._neccBlock2=s;var o=this.width=17+4*this._version;this.buffer=k._createArray(o*o),this._ecc=k._createArray(t+(t+a)*(r+s)+s),this._mask=k._createArray((o*(o+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+o*(o-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(i),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(e,t){var a,n=this.buffer,r=this.width;for(n[e+r*t]=1,a=-2;2>a;a++)n[e+a+r*(t-2)]=1,n[e-2+r*(t+a+1)]=1,n[e+2+r*(t+a)]=1,n[e+a+1+r*(t+2)]=1;for(a=0;2>a;a++)this._setMask(e-1,t+a),this._setMask(e+1,t-a),this._setMask(e-a,t-1),this._setMask(e+a,t+1)},_appendData:function(e,t,a,n){var r,s,i,o=this._polynomial,l=this._stringBuffer;for(s=0;s<n;s++)l[a+s]=0;for(s=0;s<t;s++){if(r=m.LOG[l[e+s]^l[a]],255!==r)for(i=1;i<n;i++)l[a+i-1]=l[a+i]^m.EXPONENT[k._modN(r+o[n-i])];else for(i=a;i<a+n;i++)l[i]=l[i+1];l[a+n-1]=255===r?0:m.EXPONENT[k._modN(r+o[0])]}},_appendEccToData:function(){var e,t=0,a=this._dataBlock,n=this._calculateMaxLength(),r=this._eccBlock;for(e=0;e<this._neccBlock1;e++)this._appendData(t,a,n,r),t+=a,n+=r;for(e=0;e<this._neccBlock2;e++)this._appendData(t,a+1,n,r),t+=a+1,n+=r},_applyMask:function(e){var t,a,n,r,s=this.buffer,i=this.width;switch(e){case 0:for(r=0;r<i;r++)for(n=0;n<i;n++)1&n+r||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 1:for(r=0;r<i;r++)for(n=0;n<i;n++)1&r||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 2:for(r=0;r<i;r++)for(t=0,n=0;n<i;n++,t++)3===t&&(t=0),t||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 3:for(a=0,r=0;r<i;r++,a++)for(3===a&&(a=0),t=a,n=0;n<i;n++,t++)3===t&&(t=0),t||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 4:for(r=0;r<i;r++)for(t=0,a=1&r>>1,n=0;n<i;n++,t++)3===t&&(t=0,a=!a),a||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 5:for(a=0,r=0;r<i;r++,a++)for(3===a&&(a=0),t=0,n=0;n<i;n++,t++)3===t&&(t=0),(1&(n&r))+!(!t|!a)||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 6:for(a=0,r=0;r<i;r++,a++)for(3===a&&(a=0),t=0,n=0;n<i;n++,t++)3===t&&(t=0),1&(1&(n&r))+(t&&t===a)||this._isMasked(n,r)||(s[n+r*i]^=1);break;case 7:for(a=0,r=0;r<i;r++,a++)for(3===a&&(a=0),t=0,n=0;n<i;n++,t++)3===t&&(t=0),1&(t&&t===a)+(1&n+r)||this._isMasked(n,r)||(s[n+r*i]^=1);}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var e,t,a=this._eccBlock,n=this._polynomial;for(n[0]=1,e=0;e<a;e++){for(n[e+1]=1,t=e;0<t;t--)n[t]=n[t]?n[t-1]^m.EXPONENT[k._modN(m.LOG[n[t]]+e)]:n[t-1];n[0]=m.EXPONENT[k._modN(m.LOG[n[0]]+e)]}for(e=0;e<=a;e++)n[e]=m.LOG[n[e]]},_checkBadness:function(){var e,t,a,n,r,s=0,i=this._badness,o=this.buffer,l=this.width;for(r=0;r<l-1;r++)for(n=0;n<l-1;n++)(o[n+l*r]&&o[n+1+l*r]&&o[n+l*(r+1)]&&o[n+1+l*(r+1)]||!(o[n+l*r]||o[n+1+l*r]||o[n+l*(r+1)]||o[n+1+l*(r+1)]))&&(s+=k.N2);var c=0;for(r=0;r<l;r++){for(a=0,i[0]=0,(e=0,n=0);n<l;n++)t=o[n+l*r],e===t?i[a]++:i[++a]=1,e=t,c+=e?1:-1;s+=this._getBadness(a)}0>c&&(c=-c);var d=0,p=c;for(p+=p<<2,p<<=1;p>l*l;)p-=l*l,d++;for(s+=d*k.N4,n=0;n<l;n++){for(a=0,i[0]=0,(e=0,r=0);r<l;r++)t=o[n+l*r],e===t?i[a]++:i[++a]=1,e=t;s+=this._getBadness(a)}return s},_convertBitStream:function(e){var t,a,n=this._ecc,r=this._version;for(a=0;a<e;a++)n[a]=this._value.charCodeAt(a);var s=this._stringBuffer=n.slice(),i=this._calculateMaxLength();e>=i-2&&(e=i-2,9<r&&e--);var o=e;if(9<r){for(s[o+2]=0,s[o+3]=0;o--;)t=s[o],s[o+3]|=255&t<<4,s[o+2]=t>>4;s[2]|=255&e<<4,s[1]=e>>4,s[0]=64|e>>12}else{for(s[o+1]=0,s[o+2]=0;o--;)t=s[o],s[o+2]|=255&t<<4,s[o+1]=t>>4;s[1]|=255&e<<4,s[0]=64|e>>4}for(o=e+3-(10>r);o<i;)s[o++]=236,s[o++]=17},_getBadness:function(e){var t,a=0,n=this._badness;for(t=0;t<=e;t++)5<=n[t]&&(a+=k.N1+n[t]-5);for(t=3;t<e-1;t+=2)n[t-2]===n[t+2]&&n[t+2]===n[t-1]&&n[t-1]===n[t+1]&&3*n[t-1]===n[t]&&(0===n[t-3]||t+3>e||3*n[t-3]>=4*n[t]||3*n[t+3]>=4*n[t])&&(a+=k.N3);return a},_finish:function(){this._stringBuffer=this.buffer.slice();var e,t,a=0,n=3e4;for(t=0;8>t&&(this._applyMask(t),e=this._checkBadness(),e<n&&(n=e,a=t),7!==a);t++)this.buffer=this._stringBuffer.slice();a!==t&&this._applyMask(a),n=u.FINAL_FORMAT[a+(this._level-1<<3)];var r=this.buffer,s=this.width;for(t=0;8>t;t++,n>>=1)1&n&&(r[s-1-t+8*s]=1,6>t?r[8+s*t]=1:r[8+s*(t+1)]=1);for(t=0;7>t;t++,n>>=1)1&n&&(r[8+s*(s-7+t)]=1,t?r[6-t+8*s]=1:r[7+8*s]=1)},_interleaveBlocks:function(){var e,t,a=this._dataBlock,n=this._ecc,r=this._eccBlock,s=0,i=this._calculateMaxLength(),o=this._neccBlock1,l=this._neccBlock2,c=this._stringBuffer;for(e=0;e<a;e++){for(t=0;t<o;t++)n[s++]=c[e+t*a];for(t=0;t<l;t++)n[s++]=c[o*a+e+t*(a+1)]}for(t=0;t<l;t++)n[s++]=c[o*a+e+t*(a+1)];for(e=0;e<r;e++)for(t=0;t<o+l;t++)n[s++]=c[i+e+t*r];this._stringBuffer=n},_insertAlignments:function(){var e,t,a,n=this._version,r=this.width;if(1<n)for(e=_.BLOCK[n],a=r-7;;){for(t=r-7;t>e-3&&(this._addAlignment(t,a),!(t<e));)t-=e;if(a<=e+9)break;a-=e,this._addAlignment(6,a),this._addAlignment(a,6)}},_insertFinders:function(){var e,t,a,n,r=this.buffer,s=this.width;for(e=0;3>e;e++){for(t=0,n=0,1===e&&(t=s-7),2===e&&(n=s-7),r[n+3+s*(t+3)]=1,a=0;6>a;a++)r[n+a+s*t]=1,r[n+s*(t+a+1)]=1,r[n+6+s*(t+a)]=1,r[n+a+1+s*(t+6)]=1;for(a=1;5>a;a++)this._setMask(n+a,t+1),this._setMask(n+1,t+a+1),this._setMask(n+5,t+a),this._setMask(n+a+1,t+5);for(a=2;4>a;a++)r[n+a+s*(t+2)]=1,r[n+2+s*(t+a+1)]=1,r[n+4+s*(t+a)]=1,r[n+a+1+s*(t+4)]=1}},_insertTimingGap:function(){var e,t,a=this.width;for(t=0;7>t;t++)this._setMask(7,t),this._setMask(a-8,t),this._setMask(7,t+a-7);for(e=0;8>e;e++)this._setMask(e,7),this._setMask(e+a-8,7),this._setMask(e,a-8)},_insertTimingRowAndColumn:function(){var e,t=this.buffer,a=this.width;for(e=0;e<a-14;e++)1&e?(this._setMask(8+e,6),this._setMask(6,8+e)):(t[8+e+6*a]=1,t[6+a*(8+e)]=1)},_insertVersion:function(){var e,t,a,n,r=this.buffer,s=this._version,i=this.width;if(6<s)for(e=g.BLOCK[s-7],t=17,a=0;6>a;a++)for(n=0;3>n;n++,t--)1&(11<t?s>>t-12:e>>t)?(r[5-a+i*(2-n+i-11)]=1,r[2-n+i-11+i*(5-a)]=1):(this._setMask(5-a,2-n+i-11),this._setMask(2-n+i-11,5-a))},_isMasked:function(e,t){var a=k._getMaskBit(e,t);return 1===this._mask[a]},_pack:function(){var e,t,a,n=1,r=1,s=this.width,i=s-1,o=s-1,l=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(t=0;t<l;t++)for(e=this._stringBuffer[t],a=0;8>a;a++,e<<=1){128&e&&(this.buffer[i+s*o]=1);do r?i--:(i++,n?0==o?(i-=2,n=!n,6==i&&(i--,o=9)):o--:o==s-1?(i-=2,n=!n,6==i&&(i--,o-=8)):o++),r=!r;while(this._isMasked(i,o))}},_reverseMask:function(){var e,t,a=this.width;for(e=0;9>e;e++)this._setMask(e,8);for(e=0;8>e;e++)this._setMask(e+a-8,8),this._setMask(8,e);for(t=0;7>t;t++)this._setMask(8,t+a-7)},_setMask:function(e,t){var a=k._getMaskBit(e,t);this._mask[a]=1},_syncMask:function(){var e,t,a=this.width;for(t=0;t<a;t++)for(e=0;e<=t;e++)this.buffer[e+a*t]&&this._setMask(e,t)}},{_createArray:function(e){var t,a=[];for(t=0;t<e;t++)a[t]=0;return a},_getMaskBit:function(e,t){var a;return e>t&&(a=e,e=t,t=a),a=t,a+=t*t,a>>=1,a+=e,a},_modN:function(e){for(;255<=e;)e-=255,e=(e>>8)+(255&e);return e},N1:3,N2:3,N3:40,N4:10}),b=d.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=''},resize:function(){var e=this.element;e.width=e.height=this.qrious.size}}),B=i.extend(function(e,t,a,n){this.name=e,this.modifiable=!!t,this.defaultValue=a,this._valueTransformer=n},{transform:function(e){var t=this._valueTransformer;return'function'==typeof t?t(e,this):e}}),v=B,A=i.extend(null,{abs:function(e){return null==e?null:Math.abs(e)},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},noop:function(){},toUpperCase:function(e){return null==e?null:e.toUpperCase()}}),y=A,E=i.extend(function(e){this.options={},e.forEach(function(e){this.options[e.name]=e},this)},{exists:function(e){return null!=this.options[e]},get:function(e,t){return E._get(this.options[e],t)},getAll:function(e){var t,a=this.options,n={};for(t in a)y.hasOwn(a,t)&&(n[t]=E._get(a[t],e));return n},init:function(e,t,a){'function'!=typeof a&&(a=y.noop);var n,r;for(n in this.options)y.hasOwn(this.options,n)&&(r=this.options[n],E._set(r,r.defaultValue,t),E._createAccessor(r,t,a));this._setAll(e,t,!0)},set:function(e,t,a){return this._set(e,t,a)},setAll:function(e,t){return this._setAll(e,t)},_set:function(e,t,a,n){var r=this.options[e];if(!r)throw new Error('Invalid option: '+e);if(!r.modifiable&&!n)throw new Error('Option cannot be modified: '+e);return E._set(r,t,a)},_setAll:function(e,t,a){if(!e)return!1;var n,r=!1;for(n in e)y.hasOwn(e,n)&&this._set(n,e[n],t,a)&&(r=!0);return r}},{_createAccessor:function(e,t,a){var n={get:function(){return E._get(e,t)}};e.modifiable&&(n.set=function(n){E._set(e,n,t)&&a(n,e)}),Object.defineProperty(t,e.name,n)},_get:function(e,t){return t['_'+e.name]},_set:function(e,t,a){var n='_'+e.name,r=a[n],s=e.transform(null==t?e.defaultValue:t);return a[n]=s,s!==r}}),M=i.extend(function(){this._services={}},{getService:function(e){var t=this._services[e];if(!t)throw new Error('Service is not being managed with name: '+e);return t},setService:function(e,t){if(this._services[e])throw new Error('Service is already managed with name: '+e);t&&(this._services[e]=t)}}),R=new E([new v('background',!0,'white'),new v('backgroundAlpha',!0,1,y.abs),new v('element'),new v('foreground',!0,'black'),new v('foregroundAlpha',!0,1,y.abs),new v('level',!0,'L',y.toUpperCase),new v('mime',!0,'image/png'),new v('padding',!0,null,y.abs),new v('size',!0,100,y.abs),new v('value',!0,'')]),C=new M,L=i.extend(function(e){R.init(e,this,this.update.bind(this));var t=R.get('element',this),a=C.getService('element'),n=t&&a.isCanvas(t)?t:a.createCanvas(),r=t&&a.isImage(t)?t:a.createImage();this._canvasRenderer=new p(this,n,!0),this._imageRenderer=new b(this,r,r===t),this.update()},{get:function(){return R.getAll(this)},set:function(e){R.setAll(e,this)&&this.update()},toDataURL:function(e){return this.canvas.toDataURL(e||this.mime)},update:function(){var e=new k({level:this.level,value:this.value});this._canvasRenderer.render(e),this._imageRenderer.render(e)}},{use:function(e){C.setService(e.getName(),e)}});Object.defineProperties(L.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var T=L,F=i.extend({getName:function(){}}),x=F.extend({createCanvas:function(){},createImage:function(){},getName:function(){return'element'},isCanvas:function(){},isImage:function(){}}),w=x.extend({createCanvas:function(){return document.createElement('canvas')},createImage:function(){return document.createElement('img')},isCanvas:function(e){return e instanceof HTMLCanvasElement},isImage:function(e){return e instanceof HTMLImageElement}});T.use(new w);return T})}]);